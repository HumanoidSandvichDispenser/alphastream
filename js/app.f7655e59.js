(function(e){function t(t){for(var o,s,a=t[0],r=t[1],d=t[2],l=0,h=[];l<a.length;l++)s=a[l],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&h.push(i[s][0]),i[s]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);u&&u(t);while(h.length)h.shift()();return c.push.apply(c,d||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(c.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},i={app:0},c=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/alphastream/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],r=a.push.bind(a);a.push=t,a=a.slice();for(var d=0;d<a.length;d++)t(a[d]);var u=r;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},1686:function(e,t,n){"use strict";n("7795")},"1e5e":function(e,t,n){},2:function(e,t){},3:function(e,t){},"36f4":function(e,t,n){"use strict";n("1e5e")},"3ad3":function(e,t,n){},4:function(e,t){},"4b7a":function(e,t,n){"use strict";n("3ad3")},5:function(e,t){},"51a3":function(e,t,n){"use strict";n("edf0")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),i={class:"fullscreen"},c=Object(o["createVNode"])("div",{class:"fullscreen"},null,-1);function s(e,t,n,s,a,r){var d=this,u=Object(o["resolveComponent"])("YouTube"),l=Object(o["resolveComponent"])("Chat"),h=Object(o["resolveComponent"])("MediaController");return Object(o["openBlock"])(),Object(o["createBlock"])("div",{id:"app",onKeyup:t[5]||(t[5]=Object(o["withKeys"])((function(e){return d.$refs.chat.focus()}),["enter"]))},[Object(o["createVNode"])("div",i,[Object(o["createVNode"])(u,{onReady:r.onVideoReady,ref:"youtube",src:"https://www.youtube.com/watch?v=DB6UWGeNePk"},null,8,["onReady"])]),c,Object(o["createVNode"])(l,{ref:"chat",connections:a.connections,hostID:a.hostID,onBroadcast:t[1]||(t[1]=function(e){return r.onBroadcast(e.data)}),onConnectToPeer:t[2]||(t[2]=function(e){return r.connectToPeer(e.id,void 0,void 0,!0)}),onDisconnectPeers:t[3]||(t[3]=function(e){return r.disconnect()}),onReconnect:t[4]||(t[4]=function(e){return d.peer.reconnect()})},null,8,["connections","hostID"]),Object(o["createVNode"])(h,{sliderVisible:a.videoState.isReady,maxValue:a.videoState.duration,value:a.videoState.actualVideoTime,onChange:r.onTimeChange},null,8,["sliderVisible","maxValue","value","onChange"])],32)}n("99af"),n("4160"),n("caad"),n("a15b"),n("d81d"),n("b64b"),n("d3b7"),n("25f0"),n("2532"),n("159b");var a=n("2909"),r=n("a0bc"),d=n.n(r),u={ref:"popupContainer",class:"popup-container chat-container"},l={ref:"memberListContainer",class:"member-list-container"},h={style:{margin:"0"}},f={style:{padding:"4px","user-select":"none"}},p={ref:"messageListContainer",class:"message-list-container"};function m(e,t,n,i,c,s){var a=Object(o["resolveComponent"])("Member"),r=Object(o["resolveComponent"])("Message");return Object(o["openBlock"])(),Object(o["createBlock"])("div",u,[Object(o["createVNode"])("div",l,[Object(o["createVNode"])("ul",h,[Object(o["createVNode"])("li",f,"â–¾ Connected users ("+Object(o["toDisplayString"])(Object.keys(n.connections).length)+")",1),Object(o["createVNode"])(a,{member:c.clientAuthor,badge:c.clientBadge,isHost:n.hostID==c.clientID},null,8,["member","badge","isHost"]),(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(n.connections,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:t,member:e.username,isHost:n.hostID==t},null,8,["member","isHost"])})),128))])],512),Object(o["createVNode"])("div",p,[Object(o["createVNode"])("ul",null,[Object(o["createVNode"])(r,{ref:"infoMessage",author:"System",content:"".concat(c.clientAuthor," (PeerID ").concat(c.clientID,")")},null,8,["content"]),(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(c.messages,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(r,{key:t,author:e.author,badge:e.badge,content:e.content},null,8,["author","badge","content"])})),128))])],512),Object(o["createVNode"])("input",{ref:"messageBox",placeholder:"Message or link",onKeyup:t[1]||(t[1]=Object(o["withKeys"])((function(e){return s.onEnter(e)}),["enter"]))},null,544)],512)}n("ac1f"),n("466d"),n("2ca0");var g={class:"message-container"},b={class:"message-author"},y={class:"message-timestamp"};function v(e,t,n,i,c,s){return Object(o["openBlock"])(),Object(o["createBlock"])("li",g,[Object(o["createVNode"])("div",b,[void 0!=n.badge?(Object(o["openBlock"])(),Object(o["createBlock"])("img",{key:0,class:"message-content",src:n.badge},null,8,["src"])):Object(o["createCommentVNode"])("",!0),Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.author),1)]),Object(o["createVNode"])("div",y,Object(o["toDisplayString"])(n.timestamp),1),Object(o["createVNode"])("span",{ref:"messageContent",class:"message-content",innerHTML:s.parseEmotes(n.content)},null,8,["innerHTML"])])}n("4ec9"),n("3ca3"),n("1276"),n("ddb0");var O=n("a8d1"),j=O.EmoteFetcher,w=new Map,k=new j;k.fetchTwitchEmotes().then((function(){w=new Map([].concat(Object(a["a"])(w),Object(a["a"])(k.emotes))),k.fetchBTTVEmotes().then((function(){w=new Map([].concat(Object(a["a"])(w),Object(a["a"])(k.emotes))),k.fetchFFZEmotes().then((function(){w=new Map([].concat(Object(a["a"])(w),Object(a["a"])(k.emotes)))}))}))})),k.fetchTwitchEmotes(71092938).then((function(){w=new Map([].concat(Object(a["a"])(w),Object(a["a"])(k.emotes))),k.fetchBTTVEmotes(71092938).then((function(){w=new Map([].concat(Object(a["a"])(w),Object(a["a"])(k.emotes))),k.fetchFFZEmotes(71092938).then((function(){w=new Map([].concat(Object(a["a"])(w),Object(a["a"])(k.emotes)))}))}))}));var T={props:{author:String,timestamp:String,badge:String,color:String,content:String},methods:{syncAnimations:function(){console.log("syncing animations")},parseEmotes:function(e){if(void 0!=e){var t=e.split(" ");return t.forEach((function(e,n){w.has(e)&&(console.log("found emote"),t[n]='<img class="emote" alt="'.concat(e,'" src="').concat(w.get(e).toLink(),'">'))})),t.join(" ")}}}};n("4b7a");T.render=v;var S=T,V={class:"member-container"},D={class:"member"};function $(e,t,n,i,c,s){return Object(o["openBlock"])(),Object(o["createBlock"])("li",V,[Object(o["createVNode"])("div",D,[void 0!=n.badge?(Object(o["openBlock"])(),Object(o["createBlock"])("img",{key:0,src:n.badge},null,8,["src"])):Object(o["createCommentVNode"])("",!0),Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.member)+" "+Object(o["toDisplayString"])(n.isHost?"(Host)":""),1)])])}var C={props:{member:String,badge:String,isHost:Boolean}};n("51a3");C.render=$;var M=C,B={type:{message:0,connect:1,disconnect:2,connectBack:3,mergeConnections:4,nameChange:5,ping:6,pong:7,question:8,answer:9,kick:10,addLink:11,videoState:12,videoTime:13}},I=window.localStorage,N={name:"Chat",components:{Message:S,Member:M},props:{connections:{},hostID:String},data:function(){return{isFocused:!1,clientAuthor:void 0,clientColor:"#ff4a50",clientBadge:void 0,clientID:void 0,messages:[]}},methods:{focus:function(e){if(void 0!=e){var t=e.$refs.popupContainer;void 0!=t&&(e.isFocused?t.classList.remove("focused"):(t.classList.add("focused"),e.$refs.messageBox.focus()),e.$refs.messageListContainer.scrollTop=e.$refs.messageListContainer.scrollHeight,e.isFocused=!e.isFocused)}},onEnter:function(e){var t=e.target.value;if(t.startsWith("!#")){var n=this.parseCommand(t.match(/('.*?'|".*?"|\S+)/g));this.systemMessage(n)}else/\S/.test(t)&&(this.pushMessage(this.clientAuthor,this.clientBadge,t),this.$emit("broadcast",{data:{type:B.type.message,sender:this.clientID,body:{author:this.clientAuthor,badge:this.clientBadge,content:t,color:this.clientColor}}}));e.target.value=""},pushMessage:function(e,t,n){this.messages.push({author:e,badge:t,content:n}),this.$refs.infoMessage.syncAnimations()},systemMessage:function(e){this.pushMessage("System",void 0,e)},parseCommand:function(e){switch(e[0]){case"!#connect":return e.length<2?this.assertArgCount(e,1):(this.$emit("connect-to-peer",{id:e[1]}),"Connecting to ".concat(e[1],"..."));case"!#disconnect":return this.$emit("disconnect-peers"),"Disconnecting...";case"!#reconnect":return this.$emit("reconnect"),"Reconnecting...";case"!#setname":if(e.length<2)return this.assertArgCount(e,1);var t=this.clientAuthor;return this.clientAuthor=e[1],I.setItem("username",e[1]),this.$emit("broadcast",{data:{type:B.type.nameChange,sender:this.clientID,body:{oldName:t,newName:e[1]}}}),"Changed name from ".concat(t," to ").concat(e[1]);case"!#ping":this.$emit("broadcast",{data:{type:B.type.ping,sender:this.clientID,body:{time:(new Date).getTime()}}});break;case"!#clear":while(this.messages.length)this.messages.pop();break;case"!#add":if(e.length<2)return this.assertArgCount(e,1);this.$emit("broadcast",{data:{type:B.type.addLink,sender:this.clientID,body:{link:e[1]}}}),this.$parent.addLink(e[1]),console.log("added video "+e[1]);break;default:return"Unknown command ".concat(e[0])}},assertArgCount:function(e,t){return"".concat(e[0]," expected ").concat(t," arguments (got ").concat(e.length-1,")")}},mounted:function(){var e=this;document.onkeyup=function(t){if(console.log(t.key),"Enter"==t.key)e.focus(e);else if(document.activeElement!=e.$refs.messageBox)if(" "==t.key)e.$parent.videoState.isPaused=!e.$parent.videoState.isPaused,e.$parent.videoState.videoTime=e.$parent.$refs.youtube.getCurrentTime(),e.$parent.broadcastVideoState(),e.$parent.changeVideoState();else if("ArrowLeft"==t.key)e.$parent.videoState.videoTime=Math.max(e.$parent.$refs.youtube.getCurrentTime()-5,0),e.$parent.videoState.forceTimeUpdate=!0,e.$parent.broadcastVideoState(),e.$parent.changeVideoState();else if("ArrowRight"==t.key){var n;e.$parent.videoState.videoTime=Math.min(e.$parent.$refs.youtube.getCurrentTime()+5,null!==(n=e.$parent.$refs.youtube.getDuration())&&void 0!==n?n:0),e.$parent.videoState.forceTimeUpdate=!0,e.$parent.broadcastVideoState(),e.$parent.changeVideoState()}}}};n("1686");N.render=m;var P=N,E={class:"media-controller"},q={class:"slider-container"};function x(e,t,n,i,c,s){var a=Object(o["resolveComponent"])("Slider");return Object(o["openBlock"])(),Object(o["createBlock"])("div",E,[Object(o["createVNode"])("div",q,[Object(o["createVNode"])(a,{modelValue:c.sliderValue,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.sliderValue=e}),step:-1,min:0,max:n.maxValue,format:s.formatTime,onChange:t[2]||(t[2]=function(t){return e.$emit("change",t)})},null,8,["modelValue","max","format"])])])}n("a9e3");var A=n("a6f0"),F={name:"MediaController",components:{Slider:A["a"]},props:{value:Number,maxValue:Number,sliderVisible:Boolean},watch:{value:function(e){console.log("value changed to "+e),this.sliderValue=e}},data:function(){return{sliderValue:0}},methods:{formatTime:function(e){var t=new Number(e),n=~~(t/3600),o=~~(t%3600/60),i=~~t%60,c="";return n>0&&(c+=n+":"+(o<10?"0":"")),c+=o+":"+(i<10?"0":""),c+=""+i,c}}};n("ab74"),n("a637");F.render=x;var L=F,H=n("37c3"),U=n.n(H),R=(n("c975"),n("a434"),{waitForPredicate:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;0==s?s=(new Date).getTime():c=s-(new Date).getTime(),e()?(console.log("invoking callback in "+o),setTimeout(t,o)):c<i&&setTimeout((function(){return n.waitForPredicate(e,t,o,i,c,s)}),100)},removeElement:function(e,t){var n=e.indexOf(t);return n>-1&&(e.splice(n,1),!0)},pingClients:function(e){var t=this;setTimeout((function(){return t.pingClients(e)}),2e3),e.hostID!=e.peer.id&&Object.keys(e.connections).forEach((function(t){e.connections[t]&&e.question("ping",(function(){e.connections[t]&&(console.log("successfully received ping"),e.connections[t].failedPings=0)}),t,(function(){e.connections[t]&&++e.connections[t].failedPings>=4&&(console.log(t+" has timed out"),e.kick(t,"timed out"))}))}))},pingHost:function(e){var t=this;setTimeout((function(){return t.pingHost(e)}),4e3),e.hostID==e.peer.id||e.peer.disconnected||e.connections[e.hostID]&&e.question("ping",(function(){e.connections[e.hostID]&&(console.log("successfully received ping"),e.connections[e.hostID].failedPings=0)}),e.hostID,(function(){e.connections[e.hostID]&&(console.log("host timed out"),++e.connections[e.hostID].failedPings>=4&&(e.$refs.chat.systemMessage("Lost connection to host."),e.disconnect()))}))},videoUrlToID:function(e){var t=e.split("v=")[1],n=t.indexOf("&");return-1!=n?t.substring(0,n):t},fetchEmoteMap:function(e,t,n){e.fetchTwitchEmotes(n).then((function(){t=new Map([].concat(Object(a["a"])(t),Object(a["a"])(e.emotes))),e.fetchBTTVEmotes(n).then((function(){t=new Map([].concat(Object(a["a"])(t),Object(a["a"])(e.emotes))),e.fetchFFZEmotes(n).then((function(){t=new Map([].concat(Object(a["a"])(t),Object(a["a"])(e.emotes))),console.log(t)}))}))})),e.fetchTwitchEmotes(n).then((function(){t=new Map([].concat(Object(a["a"])(t),Object(a["a"])(e.emotes))),e.fetchBTTVEmotes(n).then((function(){t=new Map([].concat(Object(a["a"])(t),Object(a["a"])(e.emotes))),e.fetchFFZEmotes(n).then((function(){t=new Map([].concat(Object(a["a"])(t),Object(a["a"])(e.emotes)))}))}))}))}}),_=(n("4de4"),n("9911"),{send:function(e,t,n){e.peer.disconnected?console.log("You have been disconnected and can not broadcast any messages."):Object.keys(e.connections).filter((function(e){return void 0==n||n.includes(e)})).forEach((function(n){e.connections[n].peer.send(t)}))},receive:function(e,t){if(t.type==B.type.message)e.$refs.chat.pushMessage(t.body.author,t.body.badge,t.body.content),console.log("received message: "+t.body.content);else if(t.type==B.type.connect)e.$refs.chat.systemMessage("".concat(t.body.username," connected")),new Promise((function(e){return setTimeout(e,1)})).then((function(){e.connections[t.sender]&&(e.connections[t.sender].username=t.body.username,e.connections[t.sender].failedPings=0)}));else if(t.type==B.type.disconnect)e.$refs.chat.systemMessage("".concat(e.connections[t.sender].username," disconnected")),e.connections[t.sender].peer.close(),delete e.connections[t.sender];else if(t.type==B.type.connectBack)console.log("Received connection and connecting back to "+t.sender),e.connectToPeer(t.sender,!0,!1);else if(t.type==B.type.mergeConnections)console.log("Merging connection with IDS: "+t.body.join(", ")),t.body.forEach((function(t){return new Promise((function(){e.connectToPeer(t)}))}));else if(t.type==B.type.nameChange){var n="".concat(t.body.oldName," changed their name to ").concat(t.body.newName);console.log(n),e.$refs.chat.systemMessage(n),e.connections[t.sender].username=t.body.newName}else if(t.type==B.type.ping){var o=(new Date).getTime()-t.body.time;this.send(e,{type:B.type.pong,sender:e.peer.id,body:{latency:o}},t.sender)}else if(t.type==B.type.pong){var i=t.body.latency;e.$refs.chat.systemMessage("".concat(e.connections[t.sender].username,": ").concat(i," ms"))}else if(t.type==B.type.question)console.log("received question"),this.send(e,{type:B.type.answer,sender:e.peer.id,body:{question:t.body.question,questionID:t.body.questionID,answer:e.answer(t.sender,t.body.question)}});else if(t.type==B.type.answer){if(console.log("received an answer"),void 0==e.questions[t.body.questionID])return;e.questions[t.body.questionID](t.body.answer),delete e.questions[t.body.questionID]}else t.type==B.type.kick?t.sender==e.hostID&&(e.$refs.chat.systemMessage("Host forcefully closed connection to ".concat(e.connections[t.body.id].username," (").concat(t.body.reason,")")),e.connections[t.sender].close(),delete e.connections[t.body.id]):t.type==B.type.addLink?(e.addLink(t.body.link),console.log("received request to load video")):t.type==B.type.videoState&&(e.videoState=t.body.videoState,console.log(t.body.videoState),e.changeVideoState())}}),K=n("8e25"),W=n.n(K);U()("rainbow-text",{graceful:!1});var Y=window.localStorage,Z={name:"App",components:{Chat:P,YouTube:W.a,MediaController:L},data:function(){return{document:document,peer:{},connections:{},waitingFor:[],questions:{},hostID:void 0,hostSettings:{isLocked:!1,canAdminsKick:!0,videoUrl:"https://www.youtube.com/watch?v=DB6UWGeNePk",videoQueue:[],admins:[]},videoState:{actualVideoTime:0,videoTime:0,videoDuration:1,isPaused:!1,forceTimeUpdate:!1,isReady:!1}}},computed:{height:function(){return document.innerHeight},width:function(){return document.innerWidth}},watch:{getDuration:function(){return void 0==this.$refs.youtube?1:this.$refs.youtube.getDuration()},getCurrentTime:function(){return void 0==this.$refs.youtube?0:this.$refs.youtube.getCurrentTime()}},methods:{generateHex:function(e){return Object(a["a"])(Array(e)).map((function(){return Math.floor(16*Math.random()).toString(16)})).join("")},createPeer:function(){var e=this,t="ASTREAM_"+this.generateHex(16);return this.peer=new d.a(t),this.peer.on("connection",(function(t){R.removeElement(e.waitingFor,t.peer),t.on("data",(function(t){_.receive(e,t)}))})),t},connectToPeer:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.connections[e]||e==this.peer.id||(this.peer.disconnected?this.$refs.chat.systemMessage("You have disconnected. Type !#reconnect to connect back to the PeerServer"):(this.connections[e]={peer:this.peer.connect(e,{serialization:"json"})},this.connections[e].peer.on("open",(function(){t.waitingFor.push(e),console.log("Connected to "+e),i&&R.waitForPredicate((function(){return!t.waitingFor.includes(e)}),(function(){console.log("getting host ID..."),t.question("getHostID",(function(e){t.hostID=e,console.log("answer to question: "+e)}),[e])}),1e3),n&&_.send(t,{type:B.type.mergeConnections,body:Object.keys(t.connections)},[e]),o&&t.signalConnectBack(e);var c={type:B.type.connect,sender:t.peer.id,body:{id:t.peer.id,username:t.$refs.chat.clientAuthor}};t.connections[e].peer.send(c)}))))},disconnect:function(){var e=this;_.send(this,{type:B.type.disconnect,sender:this.peer.id,body:{id:this.peer.id}}),Object.keys(this.connections).forEach((function(t){e.connections[t]&&e.connections[t].peer.close()})),this.connections={},this.hostID=this.peer.id},signalConnectBack:function(e){_.send(this,{type:B.type.connectBack,sender:this.peer.id},[e])},onBroadcast:function(e){_.send(this,e)},question:function(e,t,n){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2500;console.log("asking question");var s=this.generateHex(32);_.send(this,{type:B.type.question,sender:this.peer.id,body:{questionID:s,question:e}},n),this.questions[s]=t,setTimeout((function(){void 0!=o.questions[s]&&void 0!=i&&i()}),c)},answer:function(e,t){switch(console.log("answering question "+t),t){case"getHostID":return this.hostID;case"ping":return this.peer.id}},kick:function(e,t){this.hostID==this.peer.id&&_.send(this,{type:B.type.kick,sender:this.peer.id,body:{id:e,reason:t}}),this.$refs.chat.systemMessage("Host forcefully closed connection to ".concat(this.connections[e].username," (").concat(t,")")),delete this.connections[e]},addLink:function(e){var t=R.videoUrlToID(e);console.log(t),this.$refs.youtube.loadVideoByUrl("http://www.youtube.com/v/".concat(t,"?version=3")),console.log("adding link "+e)},broadcastVideoState:function(){this.hostID==this.peer.id&&_.send(this,{type:B.type.videoState,sender:this.peer.id,body:{videoState:this.videoState}})},changeVideoState:function(){this.videoState.isPaused?this.$refs.youtube.pauseVideo():this.$refs.youtube.playVideo(),console.log("".concat(this.$refs.youtube.getCurrentTime()," video time")),(Math.abs(this.$refs.youtube.getCurrentTime()-this.videoState.videoTime)>5||this.videoState.forceTimeUpdate)&&(this.videoState.forceTimeUpdate=!1,console.log("catching video up"),this.$refs.youtube.seekTo(this.videoState.videoTime))},onVideoReady:function(){this.$refs.youtube.playVideo(),this.videoState.isReady=!0,this.videoState.duration=this.$refs.youtube.getDuration()},updateVideoTime:function(){setTimeout(this.updateVideoTime,20,this.updateVideoTime),void 0==this.$refs.youtube||this.videoState.isPaused||(this.videoState.actualVideoTime=this.$refs.youtube.getCurrentTime())},onTimeChange:function(e){this.videoState.actualVideoTime=this.videoState.videoTime=e,this.changeVideoState(),this.broadcastVideoState()}},mounted:function(){this.$refs.chat.clientID=this.createPeer(),this.hostID=this.peer.id,console.log("Got ID: "+this.$refs.chat.clientID);var e=Y.username;this.$refs.chat.clientAuthor=e||"Alphastreamer",R.pingClients(this),this.updateVideoTime()}};n("36f4");Z.render=s;var G=Z;Object(o["createApp"])(G).mount("#app")},"5e11":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="5e11"},6:function(e,t){},7:function(e,t){},7795:function(e,t,n){},8:function(e,t){},9:function(e,t){},ab74:function(e,t,n){"use strict";n("e822")},e822:function(e,t,n){},edf0:function(e,t,n){}});
//# sourceMappingURL=app.f7655e59.js.map